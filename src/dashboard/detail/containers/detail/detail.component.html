<ng-container *ngIf="model$ | async as model">

	<ng-container *ngIf="cd(model)"></ng-container>

	<div *ngIf="model.state === 'READY'">
		<button mat-button (click)="close(false)">Close</button>
		<content-component
			[item]="model.item"
			(openIngredient)="openIngredient($event)">
		</content-component>
		<button mat-raised-button (click)="edit(model.item)">Edit</button>
		<button mat-raised-button (click)="delete(model.item)">Delete</button>
		<button mat-button (click)="sync(model.item)">Save</button>
	</div>

	<preloader-component *ngIf="loading$ | async"></preloader-component>
	<preloader-component *ngIf="model.state === 'PENDING'"></preloader-component>

	<replacement-message *ngIf="model.state === 'ERROR'">
		Internal Server Error
		<a (click)="refresh()">Refresh</a>
	</replacement-message>
</ng-container>
